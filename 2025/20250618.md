# 2025-06-18 TIL

## 학습 내용 (Learning Source)

-   김영한님 **'스프링 입문'** 수강 (섹션 5. 스프링 빈과 의존관계)

---

## 핵심 정리: 스프링 빈을 등록하는 2가지 방법

스프링 컨테이너에 내가 만든 객체(컴포넌트)를 '빈(Bean)'으로 등록하여 관리하게 하는 방법은 크게 2가지가 있다. 상황에 맞게 사용하는 것이 중요함

### 1. 컴포넌트 스캔과 자동 의존관계 주입

-   **방법:** `@Component` 및 하위 어노테이션을 클래스에 붙여준다. (`@Controller`, `@Service`, `@Repository`)
-   **의존관계 주입:** `@Autowired`를 사용하면, 스프링 컨테이너에 등록된 빈 중에서 필요한 의존성을 찾아 자동으로 주입해준다.
-   **장점:** **압도적으로 간편하다.** 어노테이션 몇 개만 붙이면 되므로, 등록할 빈이 많아도 설정이 복잡해지지 않고, 중복으로 등록될 일이 없다.
-   **전제 조건:** `@Autowired`가 동작하려면, 주입 대상이 되는 객체(예: `MemberService`)가 먼저 `@Component` 등을 통해 **스프링 빈으로 등록되어 컨테이너에 올라가 있어야 한다.**

### 2. 자바 코드로 직접 빈 등록

-   **방법:** `@Configuration` 어노테이션이 붙은 설정 클래스 내부에, `@Bean` 어노테이션을 붙인 메소드를 만들어 직접 객체를 생성하고 반환한다.
-   **장점:** **매우 유연하다.** '자동'이 아닌 '수동'으로 직접 제어하기 때문에, **상황에 따라 구현 클래스를 쉽게 교체**할 수 있다.
-   **주요 사용처:**
    -   정형화된 컨트롤러, 서비스, 리포지토리 외에, **상황에 따라 구현체를 바꿔 끼워야 하는 경우.**
    -   예시: `MemoryMemberRepository`를 `DbMemberRepository`로 바꿀 때, 설정 파일의 코드 한 줄만 바꾸면 다른 모든 코드는 수정할 필요가 없어진다. 이는 **개방-폐쇄 원칙(OCP)**을 지키는 좋은 설계다.
    -   내가 직접 수정할 수 없는 **외부 라이브러리**를 빈으로 등록해서 사용해야 할 때.

### 오늘의 교훈

> **'컴포넌트 스캔'**은 정형화된 로직에 **'편리함'**을, **'자바 코드 직접 등록'**은 변화가 필요한 로직에 **'유연함'**을 제공한다. 두 방식의 장단점을 이해하고 상황에 맞게 사용하는 것이 좋은 개발자의 역량이다.