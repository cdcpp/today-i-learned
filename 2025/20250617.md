# 2025-06-17 TIL

## 학습 내용 (Learning Source)

-   김영한님 **'스프링 입문 - 코드로 배우는 스프링 부트, 웹 MVC, DB 접근 기술'** 수강 (섹션 4)

## 핵심 정리: 계층형 아키텍처와 JUnit 단위 테스트

### 1. Controller, Service, Repository 계층형 설계

웹 애플리케이션의 역할을 명확하게 나누는 계층형 구조에 대해 학습함. 각 계층은 자신만의 책임에 집중!!

-   **Controller:** HTTP 요청을 받고 응답하는 등 '외부'와의 소통을 담당.
-   **Service:** 회원가입, 주문 등 **'핵심 비즈니스 로직'**을 담당. 개발자가 가장 집중해야 할 영역이며, 비즈니스에 의존적인 용어를 사용한다.
-   **Repository:** 데이터베이스에 데이터를 저장하고 조회하는 **'데이터 접근'**을 담당. Service는 Repository의 구현체가 아닌 **인터페이스에만 의존**하여, DB 기술이 바뀌어도 Service    코드는 변경되지 않도록 설계한다.

### 2. JUnit을 활용한 단위 테스트

내가 작성한 코드가 제대로 동작하는지 증명하는 가장 확실한 방법인 단위 테스트 작성법을 배웠다.

-   **Given-When-Then 패턴:**
    테스트 코드를 '준비(Given) - 실행(When) - 검증(Then)'의 명확한 3단계로 나누어 작성하는 패턴. 테스트의 가독성과 유지보수성을 크게 높여준다.
    -   **Given:** 테스트를 위해 필요한 데이터와 환경을 준비하는 단계.
    -   **When:** 실제로 테스트하고 싶은 로직을 실행하는 단계.
    -   **Then:** 실행 결과가 우리가 예상한 대로 나왔는지 검증하는 단계. (`Assertions.assertThat`)

-   **`@BeforeEach`, `@AfterEach` 활용:**
    -   여러 테스트에서 중복되는 '준비'와 '정리' 코드를 자동화하는 어노테이션.
    -   `@BeforeEach`: 각 테스트 케이스 실행 전에 항상 먼저 실행된다. (예: 의존성 주입)
    -   `@AfterEach`: 각 테스트 케이스 실행 후에 항상 실행된다. (예: 테스트 데이터 정리)
    -   **핵심:** `@AfterEach`에서 데이터를 클리어해줌으로써, 각 테스트가 서로에게 영향을 주지 않는 **독립적인 테스트 환경**을 보장할 수 있다.